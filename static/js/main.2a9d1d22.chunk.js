(this["webpackJsonpmarche-noel"]=this["webpackJsonpmarche-noel"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/snowflake.c1c98c92.svg"},,,,,,function(e,t,a){e.exports=a(35)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),l=(a(22),a(3)),u=a(11),i=a.n(u);a(23);var o=function(e){return r.a.createElement("div",{className:"accueil noselect"},r.a.createElement("img",{src:i.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"March\xe9 de No\xebl"))},m=a(5),p=a(7),d=a(8),v=a(1),f=a.n(v),h=a(2),g=a(12),y=a(13),E=a(15),b=a(14),N=(a(25),0);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return N++,"".concat(e).concat(N)}function k(e){return function(t){e>0&&(t(),k(e-1)(t))}}function x(e,t){return e.map((function(e,a){return[e,t[a]]}))}a(26);var j=function(e){var t=e.buttons,a=void 0===t?[]:t;return r.a.createElement("nav",{className:"navbar"},a.map((function(e,t){return r.a.createElement("div",{key:t,className:"nav-button clickable noselect ".concat(e.className),onClick:e.callBack},r.a.createElement("span",null,e.fa&&r.a.createElement("i",{className:"fa ".concat(e.fa," inline spaced")}),r.a.createElement("span",{className:"inline"},e.content)))})))};a(27);var O=function(e){var t=e.messageIds,a=e.messages;return r.a.createElement("div",{className:"popups"},t.map((function(e){var t=a[e];return r.a.createElement("div",{key:e,className:"popup "+t.type},r.a.createElement("span",null,t.title),t.content)})))};a(28),a(29),a(30);var S=function(e){var t=e.customers;return r.a.createElement("div",null,r.a.createElement("h2",null,"Liste Client:"),Object.keys(t).map((function(e){return r.a.createElement("div",{className:"entry",key:"cust_"+e},r.a.createElement("span",null,"[client: ",e,"] - "),r.a.createElement("span",null,"total pay\xe9: ",t[e].paidTotal,"\u20ac"),r.a.createElement("span",null," | "),r.a.createElement("span",null,"a re\xe7u pour un total de: ",t[e].suppliedTotal,"\u20ac"))})))};a(31);var D=function(e){var t=e.missedPayments;return r.a.createElement("div",null,r.a.createElement("h2",null,"Paiements incorrectes:"),Object.keys(t).map((function(e){return r.a.createElement("div",{className:"entry",key:"missed_"+e},r.a.createElement("span",null,"[client: ",e,"] - "),r.a.createElement("span",null,"Argent Manquant: ",t[e],"\u20ac"))})))};var A=function(e){var t=e.day,a=e.index,n=e.dayAccounting;return Object.keys(t.customers).length?r.a.createElement("div",{className:"day",key:a},r.a.createElement("h1",null,t.dayName),r.a.createElement("div",{className:"day-data"},r.a.createElement("div",null,"Total des paiements manqu\xe9s: ",t.dailyLoss,"\u20ac"),r.a.createElement("div",null,"Tickets de tombola vendus: ",n.tombolaTickets),r.a.createElement("div",null,"Moyenne des d\xe9penses des clients: ",(t.customersAverage||0).toFixed(3),"\u20ac"),r.a.createElement("div",null,"Moyenne des objets re\xe7u par les clients: ",(t.obtainedAverage||0).toFixed(3),"\u20ac"),r.a.createElement(S,{customers:t.customers}),r.a.createElement(D,{missedPayments:t.missedPayments}))):r.a.createElement("div",null)};var R=function(e){var t=e.days,a=e.costTotal,n=e.suppliers,s=e.supplierTotal,c=e.dailyAccounting,l=e.ticketPrice;return r.a.createElement("div",null,function(){var e=0,u=Object.entries(n);u.sort((function(e,t){return e[1].total<t[1].total?1:e[1].total>t[1].total?-1:0}));for(var i=0,o=Object.values(c);i<o.length;i++){var m=o[i];e+=Number(m.tombolaTickets)||0}return r.a.createElement("div",{className:"content"},function(e){return r.a.createElement("div",{className:"global-stats profits"},r.a.createElement("h3",null,"B\xe9n\xe9fices"),r.a.createElement("div",null,r.a.createElement("span",null,"B\xe9n\xe9fices des vendeurs:")," ",r.a.createElement("span",{className:"value-display"},s,"\u20ac")),r.a.createElement("div",null,r.a.createElement("span",null,"Vente de tombola:")),r.a.createElement("div",null,r.a.createElement("span",null,e," x ",l,"\u20ac: "),r.a.createElement("span",{className:"value-display"},l*e,"\u20ac ")),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-minus icon"}),"Total des frais: "),r.a.createElement("span",{className:"value-display"},"-",a,"\u20ac")),r.a.createElement("div",{className:"separated"},r.a.createElement("span",null,"B\xe9n\xe9fices net du march\xe9: "),r.a.createElement("span",{className:"value-display"},function(e){return s+l*e-a}(e),"\u20ac")),t.map((function(e,t){return r.a.createElement(A,{day:e,key:t,dayAccounting:c[e.dayName],index:t})})))}(e),function(e){for(var a=Object.values(t),n=0,s=0,c=0,l=0,u=a;l<u.length;l++){var i=u[l];n+=i.customersAverage||0,s+=i.obtainedAverage||0,c+=Object.keys(i.customers).length}return r.a.createElement("div",{className:"global-stats"},r.a.createElement("h3",null,"Statistiques (sur ",t.length," jour(s))"),r.a.createElement("div",{className:"daily-stats"},r.a.createElement("div",null,r.a.createElement("span",null,"Moyenne pay\xe9e par les clients:")," ",r.a.createElement("span",{className:"value-display"},(n/(a.length||1)).toFixed(3),"\u20ac")),r.a.createElement("div",null,r.a.createElement("span",null,"Moyenne des articles re\xe7u:")," ",r.a.createElement("span",{className:"value-display"},(s/(a.length||1)).toFixed(3),"\u20ac")),r.a.createElement("div",null,r.a.createElement("span",null,"Tickets de tombola Vendus:")," ",r.a.createElement("span",{className:"value-display"},e)),r.a.createElement("div",null,r.a.createElement("span",null,"Quantit\xe9 de fiches pay\xe9es:")," ",r.a.createElement("span",{className:"value-display"},c))))}(e),!!u.length&&function(e){return r.a.createElement("div",{className:"global-stats"},r.a.createElement("h3",null,"Classement des fournisseurs"),e&&e.map((function(e,t){return r.a.createElement("div",{className:"ladder-entry"},r.a.createElement("span",null,t+1,"."),r.a.createElement("span",null,"[",e[0],"]"),r.a.createElement("span",{className:"value"},e[1].total,"\u20ac"))})))}(u))}())},T=a(16),C=function(){},P=function(e){e.value;var t=e.label,a=void 0===t?"Upload":t,n=e.onChange,s=void 0===n?C:n,c=Object(T.a)(e,["value","label","onChange"]);return r.a.createElement("span",null,r.a.createElement("label",null,r.a.createElement("span",{className:"clickable"},a),r.a.createElement("input",Object.assign({},c,{style:{display:"none"},type:"file",onChange:function(e){s(Object(m.a)(e.target.files)),e.target.value=null}}))))};a(32);var F=function(e){var t=this,a=e.day,s=e.dayRawData,c=void 0===s?{}:s,u=e.save,i=e.addMessage,o=e.dailyAccounting,m=e.missedPayments,p=Object(n.useState)([].concat(c.customers)),d=Object(l.a)(p,2),v=d[0],g=d[1],y=Object(n.useState)([]),E=Object(l.a)(y,2),b=E[0],N=E[1],w=Object(n.useState)([].concat(c.suppliers)),x=Object(l.a)(w,2),j=x[0],O=x[1],S=Object(n.useState)([]),D=Object(l.a)(S,2),A=D[0],R=D[1],T=Object(n.useState)(void 0),C=Object(l.a)(T,2),F=C[0],B=C[1],_=Object(n.useState)(o),q=Object(l.a)(_,2),M=q[0],I=q[1],L=Object(n.useRef)(null),Y=Object(n.useRef)(null);Object(n.useEffect)((function(){return function(){}}),[u,a,v,j]);var H=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({tombolaTickets:Number(t)});case 2:return e.next=4,u(a,{customers:v,suppliers:j},{tombolaTickets:Number(t)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("customer"!==t){e.next=8;break}return r=b,e.next=4,N(["","","",""]);case 4:return(n=v).push(r),e.next=8,g(n);case 8:if("supplier"!==t){e.next=16;break}return s=A,e.next=12,R(["","","",""]);case 12:return(n=j).push(s),e.next=16,O(n);case 16:return e.next=18,u(a,{customers:v,suppliers:j},M);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e,t,n){var r=v||[];if(!1===e){var s=b.map((function(e){return e||""}));return s[t]=n,void N(s)}r[e]||(r[e]=[]),r[e][t]=n,g(r),u(a,{customers:v,suppliers:j},M)},J=function(e,t,n){var r=j||[];if(!1===e){var s=A.map((function(e){return e||""}));return s[t]=n,void R(s)}r[e]||(r[e]=[]),r[e][t]=n,O(r),u(a,{customers:v,suppliers:j},M)},K=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=4;break}return L.current.focus(),e.next=4,V("customer");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=4;break}return Y.current.focus(),e.next=4,V("supplier");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,s,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t[0]).name.includes(".csv")){e.next=4;break}return i("ERREUR","Le fichier doit \xeatre un .csv","error",8e3),e.abrupt("return");case 4:return e.next=6,B(n);case 6:return e.next=8,Q(n);case 8:return r=e.sent,e.next=11,W(r);case 11:s=e.sent,c=s.newCustomers,l=s.newSuppliers,g(c),O(l),u(a,{customers:c,suppliers:l},M);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FileReader).readAsText(a),e.abrupt("return",new Promise((function(e){n.onload=function(t){e(n.result)}})));case 6:return e.prev=6,e.t0=e.catch(0),t._addMessage("ERREUR",e.t0.message,"error"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(1,a=t.split(/\r\n|\n/),k(1)((function(){return a.shift()})),a.shift().split(","),n=[],r=[];a.length;)(s=a.shift().split(","))[0]&&n.push([Number(s[0]),Number(s[1]),s[2],Number(s[3])]),s[4]&&s[5]&&r.push([Number(s[4]),Number(s[5]),s[6],Number(s[7])]);return e.abrupt("return",{newCustomers:n,newSuppliers:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"content input-page"},r.a.createElement("div",{className:"title-area ml-10"},r.a.createElement("h1",null,a),r.a.createElement("div",{className:"form-button"},r.a.createElement(P,{label:"Ajouter .csv",className:"noselect",value:F,onChange:G}))),r.a.createElement("div",null,r.a.createElement("span",{className:"ml-10"},"Tickets de tombola vendus:"),r.a.createElement("input",{className:"number-input ml-10",pattern:"[0-9]*",type:"number",onChange:function(e){H(e.target.value)},value:M.tombolaTickets})),r.a.createElement("div",{className:"area-container"},r.a.createElement("div",{onKeyDown:K,className:"group-input customers"},r.a.createElement("div",{className:"col-titles"},r.a.createElement("div",{className:"number"},"Client"),r.a.createElement("div",{className:"number"},"Fournisseur"),r.a.createElement("div",{className:"string"},"Article"),r.a.createElement("div",{className:"number"},"Prix")),v.map((function(e,t){return r.a.createElement("div",{className:"customer-row row saved-row "+(m&&m[e[0]]?"unpaid":""),key:"customer_"+t},r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){U(t,0,e.target.value)},value:e[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){U(t,1,e.target.value)},value:e[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){U(t,2,e.target.value)},value:e[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){U(t,3,e.target.value)},value:e[3]}),"\u20ac")})),r.a.createElement("div",{className:"customer-row row new-row"},r.a.createElement("input",{ref:L,className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){U(!1,0,e.target.value)},value:b[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){U(!1,1,e.target.value)},value:b[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){U(!1,2,e.target.value)},value:b[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){U(!1,3,e.target.value)},value:b[3]}),"\u20ac"),r.a.createElement("div",null,"appuiez sur 'Entrer' pour sauver la derni\xe8re ligne.")),r.a.createElement("div",{onKeyDown:z,className:"group-input suppliers"},r.a.createElement("div",{className:"col-titles"},r.a.createElement("div",{className:"number"},"Fournisseur"),r.a.createElement("div",{className:"number"},"Client"),r.a.createElement("div",{className:"string"},"Article"),r.a.createElement("div",{className:"number"},"Prix")),j.map((function(e,t){return r.a.createElement("div",{className:"supplier-row row saved-row "+(m&&m[e[1]]?"unpaid":""),key:"supplier_"+t},r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){J(t,0,e.target.value)},value:e[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){J(t,1,e.target.value)},value:e[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){J(t,2,e.target.value)},value:e[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){J(t,3,e.target.value)},value:e[3]}),"\u20ac")})),r.a.createElement("div",{className:"supplier-row row new-row"},r.a.createElement("input",{ref:Y,className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){J(!1,0,e.target.value)},value:A[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){J(!1,1,e.target.value)},value:A[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){J(!1,2,e.target.value)},value:A[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){J(!1,3,e.target.value)},value:A[3]}),"\u20ac"),r.a.createElement("div",null,"appuiez sur 'Entrer' pour sauver la derni\xe8re ligne."))))};a(33);var B=function(e){var t=e.eventExpenses,a=e.ticketPrice,s=e.save,c=Object(n.useState)(t||{}),u=Object(l.a)(c,2),i=u[0],o=u[1],m=Object(n.useState)(a||0),p=Object(l.a)(m,2),d=p[0],v=p[1],f=["Salle","Transactions","Assurance","Papeterie","Timbres","Courses","Traiteur","Schmitz","Autre"];function h(e){return i[e]||0}return Object(n.useEffect)((function(){return function(){s({eventExpenses:i,ticketPrice:d})}}),[s,i,d]),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"input-grid left"},f.map((function(e){return r.a.createElement("div",null,r.a.createElement("span",{className:"accounting-span"},e,": "),r.a.createElement("input",{className:"accounting-input",onChange:function(t){!function(e,t){var a=Object.assign({},i);a[e]=t,o(a)}(e,Number(t.target.value))},pattern:"[0-9]*",type:"number",value:h(e)})," \u20ac")}))),r.a.createElement("div",{className:"input-grid right"},r.a.createElement("div",null,r.a.createElement("span",{className:"accounting-span"}," Prix des tickets: "),r.a.createElement("input",{className:"accounting-input",onChange:function(e){v(Number(e.target.value))},pattern:"[0-9]*",type:"number",value:d}),"\u20ac"))))},_=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this)).loadSave=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("saved-state"))){e.next=4;break}return e.next=4,n.setState(JSON.parse(t));case 4:return e.next=6,n._addMessage("Charg\xe9","La derni\xe8re sauvegarde \xe0 \xe9t\xe9 charg\xe9e","info",5e3);case 6:return e.next=8,n.toggleLoad();case 8:return e.next=10,n._computeResults();case 10:case"end":return e.stop()}}),e)}))),n.saveState=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("saved-state",JSON.stringify({daysRawData:n.state.daysRawData,eventExpenses:n.state.eventExpenses,dailyAccounting:n.state.dailyAccounting,ticketPrice:n.state.ticketPrice})),e.next=3,n.toggleSave();case 3:return e.next=5,n._addMessage("Sauvegard\xe9","Les informations ont \xe9t\xe9 sauvegard\xe9es","info",5e3);case 5:case"end":return e.stop()}}),e)}))),n.setDayRawData=function(){var e=Object(h.a)(f.a.mark((function e(t,a,r){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=Object.assign({},n.state.daysRawData))[t]=a,e.next=4,n.setState({daysRawData:s,dailyAccounting:Object.assign(n.state.dailyAccounting,Object(d.a)({},t,r))});case 4:return e.next=6,n._computeResults();case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n._addMessage=function(){var e=Object(h.a)(f.a.mark((function e(t,a,r,s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=s||5e3,r=r||"info",c=w("message"),e.next=5,n.setState({popupIds:n.state.popupIds.concat(c),popups:Object.assign({},n.state.popups,Object(d.a)({},c,{title:t,content:a,type:r}))});case 5:setTimeout(Object(h.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.popupIds.filter((function(e){return e!==c})),delete(a=Object.assign({},n.state.popups))[c],e.next=5,n.setState({popupIds:t,popups:a});case 5:case"end":return e.stop()}}),e)}))),s);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),n._processDays=Object(h.a)(f.a.mark((function e(){var t,a,r,s,c,u,i,o,m,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a={},r=0,s=n.state.missedPaymentsByDay,c=0,u=Object.entries(n.state.daysRawData);c<u.length;c++)i=Object(l.a)(u[c],2),o=i[0],m=i[1],p=n._computeDay({dayName:o,dayRaw:m,suppliers:a}),a=p.suppliers,s[o]=p.missedPayments,t.push(p.day);return Object.values(a).forEach((function(e){return r+=e.total})),e.abrupt("return",{days:t,suppliers:a,supplierTotal:r,missedPaymentsByDay:s});case 7:case"end":return e.stop()}}),e)}))),n._computeDay=function(e){var t,a=e.dayName,r=e.dayRaw,s=e.suppliers,c=r.customers,l=r.suppliers,u={},i=Object(p.a)(c);try{for(i.s();!(t=i.n()).done;){var o=t.value;o[0]&&(u[o[0]]=u[o[0]]||{paid:[],paidTotal:0,supplied:[],suppliedTotal:0},u[o[0]].paidTotal+=Number(o[3])||0,u[o[0]].paid.push({name:o[2],price:o[3],supplierId:o[1]}))}}catch(g){i.e(g)}finally{i.f()}var m,d=Object(p.a)(l);try{for(d.s();!(m=d.n()).done;){var v=m.value;v[0]&&v[1]&&(u[v[1]]=u[v[1]]||{paid:[],paidTotal:0,supplied:[],suppliedTotal:0},u[v[1]].suppliedTotal+=Number(v[3])||0,u[v[1]].supplied.push({name:v[2],price:v[3],supplierId:v[0]}),s[v[0]]=s[v[0]]||{total:0},s[v[0]].total+=Number(v[3])||0)}}catch(g){d.e(g)}finally{d.f()}var f=n._computeDailyStats(u),h=f.missedPayments;return{day:{dayName:a,customers:u,missedPayments:h,dailyLoss:f.dailyLoss,customersAverage:f.customersAverage,obtainedAverage:f.obtainedAverage},suppliers:s,missedPayments:h}},n._computeDailyStats=function(e){for(var t={},a=0,n=0,r=0,s=Object.keys(e),c=0,l=s;c<l.length;c++){var u=l[c],i=e[u].paidTotal,o=e[u].suppliedTotal,m=o-i;r+=Number(o),n+=Number(i),0!==m&&(t[u]=m,a+=m)}return{missedPayments:t,dailyLoss:a,customersTotal:n,customersAverage:n/(s.length||0),obtainedAverage:r/(s.length||0)}},n.onEventFormSave=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.eventExpenses,r=t.ticketPrice,s=0,Object.values(a).forEach((function(e){return s+=e})),e.next=5,n.setState({eventExpenses:a,ticketPrice:r,costTotal:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._computeResults=Object(h.a)(f.a.mark((function e(){var t,a,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._processDays();case 2:return t=e.sent,a=t.days,r=t.suppliers,s=t.supplierTotal,c=t.missedPaymentsByDay,e.next=9,n.setState({days:a,suppliers:r,supplierTotal:s,missedPaymentsByDay:c});case 9:case"end":return e.stop()}}),e)}))),n.clearAll=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({daysRawData:Object.fromEntries(x(n.DAYS,Array(3).fill({customers:[],suppliers:[]}))),showDayForm:!1,eventExpenses:{},dailyAccounting:Object.fromEntries(x(n.DAYS,Array(3).fill({tombolaTickets:0}))),supplierTotal:0,costTotal:0,ticketPrice:0});case 2:return e.next=4,n._computeResults();case 4:return e.next=6,n._addMessage("","Tout le contenu a \xe9t\xe9 r\xe9initialis\xe9","error",5e3);case 6:return e.next=8,n.toggleReset();case 8:case"end":return e.stop()}}),e)}))),n.toggleDay=function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.showDayForm===t,e.next=3,n.setState({showDayForm:!1,showForm:!1});case 3:if(a){e.next=6;break}return e.next=6,n.setState({showDayForm:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toggleReset=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({resetRequested:!n.state.resetRequested});case 2:case"end":return e.stop()}}),e)}))),n.toggleSave=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({saveRequested:!n.state.saveRequested});case 2:case"end":return e.stop()}}),e)}))),n.toggleLoad=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({loadRequested:!n.state.loadRequested});case 2:case"end":return e.stop()}}),e)}))),n.toggleEventForm=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.showForm,e.next=3,n.setState({showForm:!t,showDayForm:!1});case 3:t&&n._computeResults();case 4:case"end":return e.stop()}}),e)}))),n._toggleHelp=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({displayHelp:!n.state.displayHelp});case 2:case"end":return e.stop()}}),e)}))),n.DAYS=["Vendredi","Samedi","Dimanche"],n.state={daysRawData:Object.fromEntries(x(n.DAYS,Array(3).fill({customers:[],suppliers:[]}))),days:[],missedPaymentsByDay:{},suppliers:{},resetRequested:!1,loadRequested:!1,saveRequested:!1,showForm:!1,showDayForm:!1,displayHelp:!1,eventExpenses:{},dailyAccounting:Object.fromEntries(x(n.DAYS,Array(3).fill({tombolaTickets:0}))),supplierTotal:0,costTotal:0,ticketPrice:0,popupIds:[],popups:{}},n}return Object(y.a)(a,[{key:"_getButtons",value:function(){var e,t=this,a=[{className:(this.state.showForm?"active":"")+" purple",fa:"fa-eur",content:"Comptabilit\xe9",callBack:this.toggleEventForm}],n=Object(p.a)(this.DAYS);try{var r=function(){var n=e.value;a.push({className:(t.state.showDayForm===n?"active ":"")+(t.state.daysRawData[n].customers.length?"green":"alert"),fa:"fa-calendar",callBack:function(){t.toggleDay(n)},content:n})};for(n.s();!(e=n.n()).done;)r()}catch(u){n.e(u)}finally{n.f()}a.push({content:"Aide",fa:"fa-info-circle",className:"blue order-2 ml-auto",callBack:this._toggleHelp});var s=[{content:"Tout effacer",fa:"fa-trash",className:"warning",callBack:this.toggleReset}];this.state.resetRequested&&(s=[{content:"Annuler",fa:"fa-times",className:"green",callBack:this.toggleReset},{content:"Confirmer: Effacer l'encodage en cours",fa:"fa-check",className:"alert",callBack:this.clearAll}]),a.push.apply(a,Object(m.a)(s));var c=[{content:"Sauvegarder",fa:"fa-upload",className:"green order-2",callBack:this.toggleSave}];this.state.saveRequested&&(c=[{content:"Annuler",fa:"fa-times",className:"green",callBack:this.toggleSave},{content:"Confirmer: Sauvegarder",fa:"fa-check",className:"alert",callBack:this.saveState}]),this.state.loadRequested||a.push.apply(a,Object(m.a)(c));var l=[{content:"Charcher",fa:"fa-download",className:"green order-2",callBack:this.toggleLoad}];return this.state.loadRequested&&(l=[{content:"Annuler",fa:"fa-times",className:"green",callBack:this.toggleLoad},{content:"Confirmer: Charder la Sauvegarde",fa:"fa-check",className:"alert",callBack:this.loadSave}]),this.state.saveRequested||a.push.apply(a,Object(m.a)(l)),a}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{buttons:this._getButtons()}),!!this.state.popupIds.length&&r.a.createElement(O,{messageIds:this.state.popupIds,messages:this.state.popups}),!!this.state.displayHelp&&r.a.createElement("div",{className:"help"},r.a.createElement("div",{className:"help-link ml-auto"},r.a.createElement("a",{className:"help-text",target:"new",href:"https://docs.google.com/spreadsheets/d/1UKT38_RUa3MQ_HEGtWgaPKvedD35wYksaj7-T0sc9N8/edit?usp=sharing"},"Fiche \xe0 remplire"),r.a.createElement("i",{className:"fa fa-file-excel-o"})),r.a.createElement("div",{className:"help-link ml-auto"},r.a.createElement("a",{className:"help-text",target:"new",href:"https://drive.google.com/file/d/18Cs7Gyetq9kGnfS8gg4BnLfDHVo5YATV/view?usp=sharing"},"Vid\xe9o d'explication"),r.a.createElement("i",{className:"fa fa-play"}))),!!this.DAYS.includes(this.state.showDayForm)&&r.a.createElement(F,{day:this.state.showDayForm,dayRawData:this.state.daysRawData[this.state.showDayForm],save:this.setDayRawData,addMessage:this._addMessage,missedPayments:this.state.missedPaymentsByDay[this.state.showDayForm],dailyAccounting:this.state.dailyAccounting[this.state.showDayForm]}),this.state.showForm?r.a.createElement(B,{eventExpenses:this.state.eventExpenses,ticketPrice:this.state.ticketPrice,save:this.onEventFormSave}):r.a.createElement(R,{days:this.state.days,dailyAccounting:this.state.dailyAccounting,ticketPrice:this.state.ticketPrice,costTotal:this.state.costTotal,suppliers:this.state.suppliers,supplierTotal:this.state.supplierTotal}))}}]),a}(r.a.Component);a(34);var q=function(e){var t=Object(n.useState)({open:!1}),a=Object(l.a)(t,2),s=a[0],c=a[1];return r.a.createElement("div",{className:"page"},s.open?r.a.createElement("div",{className:"page"},r.a.createElement(_,{menu:""})):r.a.createElement("div",{className:"page clickable",onClick:function(){c({open:!s.open})}},r.a.createElement(o,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.2a9d1d22.chunk.js.map