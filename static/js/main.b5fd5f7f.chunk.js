(this["webpackJsonpmarche-noel"]=this["webpackJsonpmarche-noel"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/snowflake.c1c98c92.svg"},,,,,,,,function(e,t,a){e.exports=a(28)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(8),r=a.n(c),l=(a(22),a(6),a(13)),i=a(9),o=a.n(i);a(23);var u=function(e){return s.a.createElement("div",{className:"accueil noselect"},s.a.createElement("img",{src:o.a,className:"App-logo",alt:"logo"}),s.a.createElement("p",null,"March\xe9 de No\xebl"))},p=a(5),f=a(1),m=a.n(f),d=a(4),h=a(10),v=a(11),g=a(15),b=a(12);a(25),a(26);var k=function(e){var t=e.buttons,a=void 0===t?[]:t;return s.a.createElement("nav",{className:"navbar"},a.map((function(e,t){return s.a.createElement("div",{key:t,className:"nav-button clickable noselect ".concat(e.className),onClick:e.callBack},s.a.createElement("span",null,e.fa&&s.a.createElement("i",{className:"fa ".concat(e.fa," inline spaced")}),s.a.createElement("span",{className:"inline"},e.content)))})))},y=a(14),E=a(16),N=function(){},w=function(e){e.value;var t=e.label,a=void 0===t?"Upload":t,n=e.onChange,c=void 0===n?N:n,r=Object(E.a)(e,["value","label","onChange"]);return s.a.createElement("span",null,s.a.createElement("label",null,s.a.createElement("span",{className:"clickable"},a),s.a.createElement("input",Object.assign({},r,{style:{display:"none"},type:"file",onChange:function(e){c(Object(y.a)(e.target.files)),e.target.value=null},multiple:!0}))))},j=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this))._readFile=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FileReader).readAsText(t),e.abrupt("return",new Promise((function(e){a.onload=function(t){e(a.result)}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._processFiles=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,s,c,r,l,i,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=Object.assign({},n.state.suppliers),c=Object(p.a)(t),e.prev=3,c.s();case 5:if((r=c.n()).done){e.next=15;break}return l=r.value,e.next=9,n._readFile(l);case 9:i=e.sent,o=n._computeFile(i,s),s=o.suppliers,a.push(o.day);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:u=n.state.days.concat(a),n.setState({days:u,suppliers:s});case 25:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),n._computeFile=function(e,t){var a,s=e.split(/\r\n|\n/),c=Object(p.a)(Array(1));try{for(c.s();!(a=c.n()).done;){a.value;s.shift()}}catch(i){c.e(i)}finally{c.f()}s.shift().split(",");for(var r={};s.length;){var l=s.shift().split(",");l[0]&&(r[l[0]]=r[l[0]]||{supplied:[],paid:[]},r[l[0]].paid.push({name:l[2],price:l[3],supplierId:l[1]})),l[4]&&l[5]&&(r[l[5]]=r[l[5]]||{supplied:[],paid:[]},r[l[5]].supplied.push({name:l[6],price:l[7],supplierId:l[4]}),t[l[4]]=t[l[4]]||{total:0},t[l[4]].total+=Number(l[7].replace(",",".")))}return{day:{customers:r,missedPayments:n._computeMissedPayments(r)},suppliers:t}},n._computeMissedPayments=function(e){return[]},n.onFileInputChange=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.state.files=t,e.next=3,n._processFiles(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.computeResults=function(){},n.resetFiles=function(){n.setState({days:[],pages:[]}),n.toggleReset()},n.toggleReset=function(){n.setState({resetRequested:!n.state.resetRequested})},n.state={files:[],days:[],suppliers:{},resetRequested:!1},n}return Object(v.a)(a,[{key:"_getButtons",value:function(){var e=[{content:"Retirer les fichiers",fa:"fa-trash",className:"warning",callBack:this.toggleReset}];this.state.resetRequested&&(e=[{content:"Annuler",fa:"fa-times",className:"green",callBack:this.toggleReset},{content:"Confirmer",fa:"fa-check",className:"alert",callBack:this.resetFiles}]);var t=[{className:"blue",fa:"fa-upload",content:s.a.createElement(w,{label:"Ajouter | jours: ".concat(this.state.days.length),className:"noselect",value:this.state.files,onChange:this.onFileInputChange})}].concat(e);return this.state.days&&t.push({content:"Calculer",fa:"fa-plus",className:"green",callBack:this.computeResults}),t}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(k,{buttons:this._getButtons()}))}}]),a}(s.a.Component);a(27);var O=function(e){var t=Object(n.useState)({open:!1}),a=Object(l.a)(t,2),c=a[0],r=a[1];return s.a.createElement("div",{className:"page"},c.open?s.a.createElement("div",{className:"page"},s.a.createElement(j,{menu:""})):s.a.createElement("div",{className:"page clickable",onClick:function(){r({open:!c.open})}},s.a.createElement(u,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.b5fd5f7f.chunk.js.map