(this["webpackJsonpmarche-noel"]=this["webpackJsonpmarche-noel"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/snowflake.c1c98c92.svg"},,,,,,,function(e,t,a){e.exports=a(35)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),l=(a(22),a(3)),u=a(10),i=a.n(u);a(23);var o=function(e){return r.a.createElement("div",{className:"accueil noselect"},r.a.createElement("img",{src:i.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"March\xe9 de No\xebl"))},p=a(6),m=a(7),d=a(11),v=a(1),f=a.n(v),g=a(2),h=a(12),E=a(13),y=a(15),b=a(14),N=(a(25),0);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return N++,"".concat(e).concat(N)}function _(e){return function(t){e>0&&(t(),_(e-1)(t))}}function k(e,t){return e.map((function(e,a){return[e,t[a]]}))}a(26);var j=function(e){var t=e.buttons,a=void 0===t?[]:t;return r.a.createElement("nav",{className:"navbar"},a.map((function(e,t){return r.a.createElement("div",{key:t,className:"nav-button clickable noselect ".concat(e.className),onClick:e.callBack},r.a.createElement("span",null,e.fa&&r.a.createElement("i",{className:"fa ".concat(e.fa," inline spaced")}),r.a.createElement("span",{className:"inline"},e.content)))})))};a(27);var x=function(e){var t=e.messageIds,a=e.messages;return r.a.createElement("div",{className:"popups"},t.map((function(e){var t=a[e];return r.a.createElement("div",{key:e,className:"popup "+t.type},r.a.createElement("span",null,t.title),t.content)})))};a(28),a(29),a(30);var O=function(e){var t=e.customers;return r.a.createElement("div",null,r.a.createElement("h2",null,"Liste Client:"),Object.keys(t).map((function(e){return r.a.createElement("div",{className:"entry",key:"cust_"+e},r.a.createElement("span",null,"[client: ",e,"] - "),r.a.createElement("span",null,"total pay\xe9: ",t[e].paidTotal,"\u20ac"),r.a.createElement("span",null," | "),r.a.createElement("span",null,"a re\xe7u pour un total de: ",t[e].suppliedTotal,"\u20ac"))})))};a(31);var S=function(e){var t=e.missedPayments;return r.a.createElement("div",null,r.a.createElement("h2",null,"Paiements incorrectes:"),Object.keys(t).map((function(e){return r.a.createElement("div",{className:"entry",key:"missed_"+e},r.a.createElement("span",null,"[client: ",e,"] - "),r.a.createElement("span",null,"Argent Manquant: ",t[e],"\u20ac"))})))};var A=function(e){var t=e.day,a=e.index,n=e.dailyAccounting;return r.a.createElement("div",{className:"day",key:a},r.a.createElement("h1",null,t.dayName),r.a.createElement("div",{className:"day-data"},r.a.createElement("div",null,"Total des paiements manqu\xe9s: ",t.dailyLoss,"\u20ac"),r.a.createElement("div",null,"Tickets de tombola vendus: ",function(e){return n[e]&&n[e].tombolaTickets}(t.dayName)),r.a.createElement("div",null,"Moyenne des d\xe9penses des clients: ",(t.customersAverage||0).toFixed(3),"\u20ac"),r.a.createElement("div",null,"Moyenne des objets re\xe7u par les clients: ",(t.obtainedAverage||0).toFixed(3),"\u20ac"),r.a.createElement(O,{customers:t.customers}),r.a.createElement(S,{missedPayments:t.missedPayments})))};var T=function(e){var t=e.days,a=e.costTotal,n=e.supplierTotal,s=e.dailyAccounting,c=e.ticketPrice;function l(){for(var e=0,t=0,a=Object.values(s);t<a.length;t++){e+=a[t].tombolaTickets||0}return e}return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"global-stats"},r.a.createElement("h3",null,"B\xe9n\xe9fices"),r.a.createElement("div",null,r.a.createElement("span",null,"B\xe9n\xe9fices des vendeurs:")," ",r.a.createElement("span",{className:"value-display"},n,"\u20ac")),r.a.createElement("div",null,r.a.createElement("span",null,"Vente de tombola:")),r.a.createElement("div",null,r.a.createElement("span",null,l()," x ",c,"\u20ac: "),r.a.createElement("span",{className:"value-display"},c*l(),"\u20ac ")),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-minus icon"}),"Total des frais: "),r.a.createElement("span",{className:"value-display"},a,"\u20ac")),r.a.createElement("div",{className:"separated"},r.a.createElement("span",null,"B\xe9n\xe9fices net du march\xe9: "),r.a.createElement("span",{className:"value-display"},n+c*l()-a,"\u20ac")),!!t.length&&r.a.createElement("span",{className:"divider"},"_________________________________________________________"),t.map((function(e,t){return r.a.createElement(A,{day:e,key:t,dailyAccounting:s,index:t})}))),r.a.createElement("div",{className:"global-stats"},r.a.createElement("h3",null,"Statistiques (sur ",t.length," jour(s))"),function(){for(var e=Object.values(t),a=0,n=0,s=0,c=0,u=e;c<u.length;c++){var i=u[c];a+=i.customersAverage||0,n+=i.obtainedAverage||0,s+=Object.keys(i.customers).length}return r.a.createElement("div",{className:"daily-stats"},r.a.createElement("div",null,r.a.createElement("span",null,"Moyenne pay\xe9e par les clients:")," ",r.a.createElement("span",{className:"value-display"},(a/(e.length||1)).toFixed(3),"\u20ac")),r.a.createElement("div",null,r.a.createElement("span",null,"Moyenne des articles re\xe7u:")," ",r.a.createElement("span",{className:"value-display"},(n/(e.length||1)).toFixed(3),"\u20ac")),r.a.createElement("div",null,r.a.createElement("span",null,"Tickets de tombola Vendus:")," ",r.a.createElement("span",{className:"value-display"},l())),r.a.createElement("div",null,r.a.createElement("span",null,"Quantit\xe9 de fiches pay\xe9es:")," ",r.a.createElement("span",{className:"value-display"},s)))}()))},D=a(16),C=function(){},R=function(e){e.value;var t=e.label,a=void 0===t?"Upload":t,n=e.onChange,s=void 0===n?C:n,c=Object(D.a)(e,["value","label","onChange"]);return r.a.createElement("span",null,r.a.createElement("label",null,r.a.createElement("span",{className:"clickable"},a),r.a.createElement("input",Object.assign({},c,{style:{display:"none"},type:"file",onChange:function(e){s(Object(p.a)(e.target.files)),e.target.value=null}}))))};a(32);var F=function(e){var t=this,a=e.day,s=e.dayRawData,c=void 0===s?{}:s,u=e.save,i=e.addMessage,o=Object(n.useState)([].concat(c.customers)),p=Object(l.a)(o,2),m=p[0],d=p[1],v=Object(n.useState)([]),h=Object(l.a)(v,2),E=h[0],y=h[1],b=Object(n.useState)([].concat(c.suppliers)),N=Object(l.a)(b,2),w=N[0],k=N[1],j=Object(n.useState)([]),x=Object(l.a)(j,2),O=x[0],S=x[1],A=Object(n.useState)(void 0),T=Object(l.a)(A,2),D=T[0],C=T[1];Object(n.useEffect)((function(){return function(){}}),[u,a,m,w]);var F=function(e){var t;if("customer"===e){var n=E;y(["","","",""]),(t=m).push(n),d(t)}if("supplier"===e){var r=O;S(["","","",""]),(t=w).push(r),k(t)}u(a,{customers:m,suppliers:w})},P=function(e,t,n){var r=m||[];if(!1===e){var s=E.map((function(e){return e||""}));return s[t]=n,void y(s)}r[e]||(r[e]=[]),r[e][t]=n,d(r),u(a,{customers:m,suppliers:w})},B=function(e,t,n){var r=w||[];if(!1===e){var s=O.map((function(e){return e||""}));return s[t]=n,void S(s)}r[e]||(r[e]=[]),r[e][t]=n,k(r),u(a,{customers:m,suppliers:w})},M=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,s,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t[0]).name.includes(".csv")){e.next=4;break}return i("ERREUR","Le fichier doit \xeatre un .csv","error",8e3),e.abrupt("return");case 4:return e.next=6,C(n);case 6:return e.next=8,I(n);case 8:return r=e.sent,e.next=11,L(r);case 11:s=e.sent,c=s.newCustomers,l=s.newSuppliers,d(c),k(l),u(a,{customers:c,suppliers:l});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FileReader).readAsText(a),e.abrupt("return",new Promise((function(e){n.onload=function(t){e(n.result)}})));case 6:return e.prev=6,e.t0=e.catch(0),t._addMessage("ERREUR",e.t0.message,"error"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(1,a=t.split(/\r\n|\n/),_(1)((function(){return a.shift()})),a.shift().split(","),n=[],r=[];a.length;)(s=a.shift().split(","))[0]&&n.push([Number(s[0]),Number(s[1]),s[2],Number(s[3])]),s[4]&&s[5]&&r.push([Number(s[4]),Number(s[5]),s[6],Number(s[7])]);return e.abrupt("return",{newCustomers:n,newSuppliers:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"content input-page"},r.a.createElement("div",{className:"title-area"},r.a.createElement("h1",null,a),r.a.createElement("div",{className:"form-button"},r.a.createElement(R,{label:"Ajouter un Fichier",className:"noselect",value:D,onChange:M}))),r.a.createElement("div",{className:"area-container"},r.a.createElement("div",{onKeyDown:function(e){"Enter"===e.key&&F("customer")},className:"group-input customers"},r.a.createElement("div",{className:"col-titles"},r.a.createElement("div",{className:"number"},"Client"),r.a.createElement("div",{className:"number"},"Fournisseur"),r.a.createElement("div",{className:"string"},"Article"),r.a.createElement("div",{className:"number"},"Prix")),m.map((function(e,t){return r.a.createElement("div",{className:"customer-row row",key:"customer_"+t},r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){P(t,0,e.target.value)},value:e[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){P(t,1,e.target.value)},value:e[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){P(t,2,e.target.value)},value:e[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){P(t,3,e.target.value)},value:e[3]}),"\u20ac")})),r.a.createElement("div",{className:"customer-row row"},r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){P(!1,0,e.target.value)},value:E[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){P(!1,1,e.target.value)},value:E[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){P(!1,2,e.target.value)},value:E[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){P(!1,3,e.target.value)},value:E[3]}),"\u20ac"),r.a.createElement("div",null,"appuiez sur 'Entrer' pour sauver la derni\xe8re ligne.")),r.a.createElement("div",{onKeyDown:function(e){"Enter"===e.key&&F("supplier")},className:"group-input suppliers"},r.a.createElement("div",{className:"col-titles"},r.a.createElement("div",{className:"number"},"Fournisseur"),r.a.createElement("div",{className:"number"},"Client"),r.a.createElement("div",{className:"string"},"Article"),r.a.createElement("div",{className:"number"},"Prix")),w.map((function(e,t){return r.a.createElement("div",{className:"supplier-row row",key:"supplier_"+t},r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){B(t,0,e.target.value)},value:e[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){B(t,1,e.target.value)},value:e[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){B(t,2,e.target.value)},value:e[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){B(t,3,e.target.value)},value:e[3]}),"\u20ac")})),r.a.createElement("div",{className:"supplier-row row"},r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){B(!1,0,e.target.value)},value:O[0]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){B(!1,1,e.target.value)},value:O[1]}),r.a.createElement("input",{className:"string-input",onChange:function(e){B(!1,2,e.target.value)},value:O[2]}),r.a.createElement("input",{className:"number-input",pattern:"[0-9]*",type:"number",onChange:function(e){B(!1,3,e.target.value)},value:O[3]}),"\u20ac"),r.a.createElement("div",null,"appuiez sur 'Entrer' pour sauver la derni\xe8re ligne."))))};a(33);var P=function(e){var t=e.eventExpenses,a=e.dailyAccounting,s=e.ticketPrice,c=e.dayList,u=e.save,i=Object(n.useState)(t||{}),o=Object(l.a)(i,2),p=o[0],m=o[1],d=Object(n.useState)(s||0),v=Object(l.a)(d,2),f=v[0],g=v[1],h=Object(n.useState)(a||{}),E=Object(l.a)(h,2),y=E[0],b=E[1],N=["Salle","Transactions","Assurance","Papeterie","Timbres","Courses","Traiteur","Schmitz","Autre"];function w(e){return y&&y[e]&&y[e].tombolaTickets||0}function _(e){return p[e]||0}return Object(n.useEffect)((function(){return function(){u({eventExpenses:p,ticketPrice:f,dailyAccounting:y})}}),[u,p,f,y]),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"input-grid left"},N.map((function(e){return r.a.createElement("div",null,r.a.createElement("span",{className:"accounting-span"},e,": "),r.a.createElement("input",{className:"accounting-input",onChange:function(t){!function(e,t){var a=Object.assign({},p);a[e]=t,m(a)}(e,Number(t.target.value))},pattern:"[0-9]*",type:"number",value:_(e)})," \u20ac")}))),r.a.createElement("div",{className:"input-grid right"},r.a.createElement("div",null,r.a.createElement("span",{className:"accounting-span"}," Prix des tickets: "),r.a.createElement("input",{className:"accounting-input",onChange:function(e){g(Number(e.target.value))},pattern:"[0-9]*",type:"number",value:f}),"\u20ac"),c.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e),r.a.createElement("div",null,r.a.createElement("span",{className:"accounting-span"}," Tickets de tombola: "),r.a.createElement("input",{className:"accounting-input",onChange:function(t){!function(e,t){var a=Object.assign({},y);a[e]||(a[e]={}),a[e].tombolaTickets=t,b(a)}(e,Number(t.target.value))},pattern:"[0-9]*",type:"number",value:w(e)})))})))))},B=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this)).loadSave=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("saved-state"))){e.next=4;break}return e.next=4,n.setState(JSON.parse(t));case 4:return e.next=6,n._addMessage("Charg\xe9","La derni\xe8re sauvegarde \xe0 \xe9t\xe9 charg\xe9e","info",5e3);case 6:return e.next=8,n._computeResults();case 8:case"end":return e.stop()}}),e)}))),n.saveState=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("saved-state",JSON.stringify({daysRawData:n.state.daysRawData,eventExpenses:n.state.eventExpenses,dailyAccounting:n.state.dailyAccounting,ticketPrice:n.state.ticketPrice})),e.next=3,n._addMessage("Sauvegard\xe9","Les informations ont \xe9t\xe9 sauvegard\xe9es","info",5e3);case 3:case"end":return e.stop()}}),e)}))),n.setDayRawData=function(){var e=Object(g.a)(f.a.mark((function e(t,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object.assign({},n.state.daysRawData))[t]=a,e.next=4,n.setState({daysRawData:r});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n._addMessage=function(){var e=Object(g.a)(f.a.mark((function e(t,a,r,s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=s||5e3,r=r||"info",c=w("message"),e.next=5,n.setState({popupIds:n.state.popupIds.concat(c),popups:Object.assign({},n.state.popups,Object(d.a)({},c,{title:t,content:a,type:r}))});case 5:setTimeout(Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.popupIds.filter((function(e){return e!==c})),delete(a=Object.assign({},n.state.popups))[c],e.next=5,n.setState({popupIds:t,popups:a});case 5:case"end":return e.stop()}}),e)}))),s);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),n._processDays=Object(g.a)(f.a.mark((function e(){var t,a,r,s,c,u,i,o,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a={},r=0,s=0,c=Object.entries(n.state.daysRawData);s<c.length;s++)u=Object(l.a)(c[s],2),i=u[0],o=u[1],p=n._computeDay({dayName:i,dayRaw:o,suppliers:a}),a=p.suppliers,t.push(p.day);return Object.values(a).forEach((function(e){return r+=e.total})),e.abrupt("return",{days:t,suppliers:a,supplierTotal:r});case 6:case"end":return e.stop()}}),e)}))),n._computeDay=function(e){var t,a=e.dayName,r=e.dayRaw,s=e.suppliers,c=r.customers,l=r.suppliers,u={},i=Object(m.a)(c);try{for(i.s();!(t=i.n()).done;){var o=t.value;o[0]&&(u[o[0]]=u[o[0]]||{paid:[],paidTotal:0,supplied:[],suppliedTotal:0},u[o[0]].paidTotal+=Number(o[3])||0,u[o[0]].paid.push({name:o[2],price:o[3],supplierId:o[1]}))}}catch(g){i.e(g)}finally{i.f()}var p,d=Object(m.a)(l);try{for(d.s();!(p=d.n()).done;){var v=p.value;v[0]&&v[1]&&(u[v[1]]=u[v[1]]||{paid:[],paidTotal:0,supplied:[],suppliedTotal:0},u[v[1]].suppliedTotal+=Number(v[3])||0,u[v[1]].supplied.push({name:v[2],price:v[3],supplierId:v[0]}),s[v[0]]=s[v[0]]||{total:0},s[v[0]].total+=Number(v[3])||0)}}catch(g){d.e(g)}finally{d.f()}var f=n._computeDailyStats(u);return{day:{dayName:a,customers:u,missedPayments:f.missedPayments,dailyLoss:f.dailyLoss,customersAverage:f.customersAverage,obtainedAverage:f.obtainedAverage},suppliers:s}},n._computeDailyStats=function(e){for(var t={},a=0,n=0,r=0,s=Object.keys(e),c=0,l=s;c<l.length;c++){var u=l[c],i=e[u].paidTotal,o=e[u].suppliedTotal,p=o-i;r+=Number(o),n+=Number(i),0!==p&&(t[u]=p,a+=p)}return{missedPayments:t,dailyLoss:a,customersTotal:n,customersAverage:n/(s.length||0),obtainedAverage:r/(s.length||0)}},n.onEventFormSave=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.eventExpenses,r=t.dailyAccounting,s=t.ticketPrice,c=0,Object.values(a).forEach((function(e){return c+=e})),e.next=5,n.setState({eventExpenses:a,ticketPrice:s,dailyAccounting:r,costTotal:c});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._computeResults=Object(g.a)(f.a.mark((function e(){var t,a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._processDays();case 2:return t=e.sent,a=t.days,r=t.suppliers,s=t.supplierTotal,e.next=8,n.setState({days:a,suppliers:r,supplierTotal:s});case 8:case"end":return e.stop()}}),e)}))),n.clearAll=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({daysRawData:Object.fromEntries(k(n.DAYS,Array(3).fill({customers:[],suppliers:[]}))),showDayForm:!1,eventExpenses:{},dailyAccounting:{},supplierTotal:0,costTotal:0,ticketPrice:0});case 2:return e.next=4,n._computeResults();case 4:return e.next=6,n._addMessage("","Tout le contenu a \xe9t\xe9 r\xe9initialis\xe9","error",5e3);case 6:return e.next=8,n.toggleReset();case 8:case"end":return e.stop()}}),e)}))),n.toggleDay=function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.showDayForm===t,e.next=3,n.setState({showDayForm:!1});case 3:if(a){e.next=6;break}return e.next=6,n.setState({showDayForm:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toggleReset=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({resetRequested:!n.state.resetRequested});case 2:case"end":return e.stop()}}),e)}))),n.toggleEventForm=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.showForm,e.next=3,n.setState({showForm:!t});case 3:t&&n._computeResults();case 4:case"end":return e.stop()}}),e)}))),n._toggleHelp=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({displayHelp:!n.state.displayHelp});case 2:case"end":return e.stop()}}),e)}))),n.DAYS=["Vendredi","Samedi","Dimanche"],n.state={files:{},daysRawData:Object.fromEntries(k(n.DAYS,Array(3).fill({customers:[],suppliers:[]}))),days:[],suppliers:{},resetRequested:!1,showForm:!1,showDayForm:!1,displayHelp:!1,eventExpenses:{},dailyAccounting:{},supplierTotal:0,costTotal:0,ticketPrice:0,popupIds:[],popups:{}},n}return Object(E.a)(a,[{key:"_getButtons",value:function(){var e,t=this,a=[{className:(this.state.showForm?"active":"")+" purple",fa:"fa-eur",content:"Comptabilit\xe9",callBack:this.toggleEventForm}],n=Object(m.a)(this.DAYS);try{var r=function(){var n=e.value;a.push({className:(t.state.showDayForm===n?"active":"")+" green",fa:"fa-calendar",callBack:function(){t.toggleDay(n)},content:n})};for(n.s();!(e=n.n()).done;)r()}catch(c){n.e(c)}finally{n.f()}var s=[{content:"Tout effacer",fa:"fa-trash",className:"warning",callBack:this.toggleReset}];return this.state.resetRequested&&(s=[{content:"Annuler",fa:"fa-times",className:"green",callBack:this.toggleReset},{content:"Confirmer",fa:"fa-check",className:"alert",callBack:this.clearAll}]),a.push.apply(a,Object(p.a)(s)),!Object.keys(this.state.daysRawData).length||this.state.showForm||this.state.resetRequested||a.push({content:"Calculer",fa:"fa-plus",className:"green",callBack:this._computeResults}),a.push.apply(a,[{content:"Aide",fa:"fa-info-circle",className:"blue order-2 ml-auto",callBack:this._toggleHelp},{content:"Charcher",fa:"fa-info-circle",className:"green order-2",callBack:this.loadSave},{content:"Sauvegarder",fa:"fa-info-circle",className:"green order-2",callBack:this.saveState}]),a}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{buttons:this._getButtons()}),!!this.state.popupIds.length&&r.a.createElement(x,{messageIds:this.state.popupIds,messages:this.state.popups}),!!this.state.displayHelp&&r.a.createElement("div",{className:"help"},r.a.createElement("div",{className:"help-link ml-auto"},r.a.createElement("a",{className:"help-text",target:"new",href:"https://docs.google.com/spreadsheets/d/1UKT38_RUa3MQ_HEGtWgaPKvedD35wYksaj7-T0sc9N8/edit?usp=sharing"},"Fiche \xe0 remplire"),r.a.createElement("i",{className:"fa fa-file-excel-o"})),r.a.createElement("div",{className:"help-link ml-auto"},r.a.createElement("a",{className:"help-text",target:"new",href:"https://drive.google.com/file/d/18Cs7Gyetq9kGnfS8gg4BnLfDHVo5YATV/view?usp=sharing"},"Vid\xe9o d'explication"),r.a.createElement("i",{className:"fa fa-play"}))),!!this.DAYS.includes(this.state.showDayForm)&&r.a.createElement(F,{day:this.state.showDayForm,dayRawData:this.state.daysRawData[this.state.showDayForm],save:this.setDayRawData,addMessage:this._addMessage}),this.state.showForm?r.a.createElement(P,{eventExpenses:this.state.eventExpenses,dailyAccounting:this.state.dailyAccounting,dayList:this.DAYS,ticketPrice:this.state.ticketPrice,save:this.onEventFormSave}):r.a.createElement(T,{days:this.state.days,dailyAccounting:this.state.dailyAccounting,ticketPrice:this.state.ticketPrice,costTotal:this.state.costTotal,supplierTotal:this.state.supplierTotal}))}}]),a}(r.a.Component);a(34);var M=function(e){var t=Object(n.useState)({open:!1}),a=Object(l.a)(t,2),s=a[0],c=a[1];return r.a.createElement("div",{className:"page"},s.open?r.a.createElement("div",{className:"page"},r.a.createElement(B,{menu:""})):r.a.createElement("div",{className:"page clickable",onClick:function(){c({open:!s.open})}},r.a.createElement(o,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.2b3f336a.chunk.js.map