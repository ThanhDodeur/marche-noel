(this["webpackJsonpmarche-noel"]=this["webpackJsonpmarche-noel"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/snowflake.c1c98c92.svg"},,,,,,,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),c=a.n(r),l=(a(21),a(12)),i=a(8),o=a.n(i);a(22);var u=function(e){return s.a.createElement("div",{className:"accueil noselect"},s.a.createElement("img",{src:o.a,className:"App-logo",alt:"logo"}),s.a.createElement("p",null,"March\xe9 de No\xebl"))},m=a(5),p=a(1),f=a.n(p),d=a(4),v=a(9),h=a(10),g=a(14),y=a(11);a(24),a(25);var b=function(e){var t=e.buttons,a=void 0===t?[]:t;return s.a.createElement("nav",{className:"navbar"},a.map((function(e,t){return s.a.createElement("div",{key:t,className:"nav-button clickable noselect ".concat(e.className),onClick:e.callBack},s.a.createElement("span",null,e.fa&&s.a.createElement("i",{className:"fa ".concat(e.fa," inline spaced")}),s.a.createElement("span",{className:"inline"},e.content)))})))};a(26),a(27),a(28);var E=function(e){return e.customers,s.a.createElement("div",null,"CUSTOMER LIST")};a(29);var k=function(e){return e.missedPayments,s.a.createElement("div",null,"Missed Payments!")};var N=function(e){var t=e.day,a=e.index;return s.a.createElement("div",{className:"day",key:a},s.a.createElement("h1",null,"Jour ",a+1),s.a.createElement(E,{customers:t.customers}),s.a.createElement(k,{missedPayments:t.missedPayments}))};var w=function(e){var t=e.days;return s.a.createElement("div",{className:"content"},t.map((function(e,t){return s.a.createElement(N,{day:e,key:t,index:t})})))},j=a(13),O=a(15),x=function(){},R=function(e){e.value;var t=e.label,a=void 0===t?"Upload":t,n=e.onChange,r=void 0===n?x:n,c=Object(O.a)(e,["value","label","onChange"]);return s.a.createElement("span",null,s.a.createElement("label",null,s.a.createElement("span",{className:"clickable"},a),s.a.createElement("input",Object.assign({},c,{style:{display:"none"},type:"file",onChange:function(e){r(Object(j.a)(e.target.files)),e.target.value=null},multiple:!0}))))},C=function(e){Object(g.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this))._readFile=function(){var e=Object(d.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FileReader).readAsText(t),e.abrupt("return",new Promise((function(e){a.onload=function(t){e(a.result)}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._processFiles=function(){var e=Object(d.a)(f.a.mark((function e(t){var a,s,r,c,l,i,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=Object.assign({},n.state.suppliers),r=Object(m.a)(t),e.prev=3,r.s();case 5:if((c=r.n()).done){e.next=15;break}return l=c.value,e.next=9,n._readFile(l);case 9:i=e.sent,o=n._computeFile(i,s),s=o.suppliers,a.push(o.day);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:u=n.state.days.concat(a),n.setState({days:u,suppliers:s});case 25:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),n._computeFile=function(e,t){var a,s=e.split(/\r\n|\n/),r=Object(m.a)(Array(1));try{for(r.s();!(a=r.n()).done;){a.value;s.shift()}}catch(i){r.e(i)}finally{r.f()}s.shift().split(",");for(var c={};s.length;){var l=s.shift().split(",");l[0]&&(c[l[0]]=c[l[0]]||{supplied:[],paid:[],total:0},c[l[0]].total+=Number(l[3].replace(",",".")),c[l[0]].paid.push({name:l[2],price:l[3],supplierId:l[1]})),l[4]&&l[5]&&(c[l[5]]=c[l[5]]||{supplied:[],paid:[]},c[l[5]].supplied.push({name:l[6],price:l[7],supplierId:l[4]}),t[l[4]]=t[l[4]]||{total:0},t[l[4]].total+=Number(l[7].replace(",",".")))}return{day:{customers:c,missedPayments:n._computeMissedPayments(c)},suppliers:t}},n._computeMissedPayments=function(e){return[]},n.onFileInputChange=function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.state.files=t,e.next=3,n._processFiles(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.computeResults=function(){},n.resetFiles=function(){n.setState({days:[],pages:[]}),n.toggleReset()},n.toggleReset=function(){n.setState({resetRequested:!n.state.resetRequested})},n.state={files:[],days:[],suppliers:{},resetRequested:!1},n}return Object(h.a)(a,[{key:"_getButtons",value:function(){var e=[{content:"Retirer les fichiers",fa:"fa-trash",className:"warning",callBack:this.toggleReset}];this.state.resetRequested&&(e=[{content:"Annuler",fa:"fa-times",className:"green",callBack:this.toggleReset},{content:"Confirmer",fa:"fa-check",className:"alert",callBack:this.resetFiles}]);var t=[{className:"blue",fa:"fa-upload",content:s.a.createElement(R,{label:"Ajouter | jours: ".concat(this.state.days.length),className:"noselect",value:this.state.files,onChange:this.onFileInputChange})}].concat(e);return this.state.days&&t.push({content:"Calculer",fa:"fa-plus",className:"green",callBack:this.computeResults}),t}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(b,{buttons:this._getButtons()}),!!this.state.days.length&&s.a.createElement(w,{days:this.state.days}))}}]),a}(s.a.Component);a(30);var F=function(e){var t=Object(n.useState)({open:!1}),a=Object(l.a)(t,2),r=a[0],c=a[1];return s.a.createElement("div",{className:"page"},r.open?s.a.createElement("div",{className:"page"},s.a.createElement(C,{menu:""})):s.a.createElement("div",{className:"page clickable",onClick:function(){c({open:!r.open})}},s.a.createElement(u,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.2e9c70d7.chunk.js.map